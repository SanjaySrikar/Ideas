<body class="w-full min-h-screen absolute bg-gray font-poppins ">
  <div
    *ngIf="admin == true && adminSetting == true"
    id="dropdown"
    class="absolute right-[420px] top-[182px] z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700"
  >
    <ul
      class="py-1 text-sm divide-y-2 divide-light-gray "
      aria-labelledby="dropdownDefault"
    >
      <li >
        <a
          [routerLink]=""
          routerLinkActive="active"
          class="block py-2 px-4 hover:text-gray"
          >Add</a
        >
      </li>
      <li>
        <a
          [routerLink]=""
          routerLinkActive="active"
          class="block py-2 px-4  hover:text-gray "
          >Remove</a
        >
      </li>
    </ul>
  </div>
  <div
    class="divide-light-gray rounded-t-lg mx-auto border-b-0 min-h-screen bg-gray w-2/5 mt-10 px-2 py-2 max-h-max shadow-lg shadow-gray space-y-10"
  >
    <div class="bg-white rounded-lg px-2 py-2 flex shadow-lg shadow-dark-blue">
      <button
        [routerLink]="['/user/idea', 0]"
        class="px-2 py-2 hover:bg-light-gray rounded-full flex space-x-4"
      >
        <img src="/assets/plus.png" />
        <router-outlet></router-outlet>
        <h1>Idea?!</h1>
      </button>

      <div class="ml-auto">
        <select
          class="px-2 py-2 cursor-pointer outline-none hover:bg-light-gray rounded-xl"
          [(ngModel)]="value"
        >
          <option
            class="rounded-xl bg-gray outline-none"
            *ngFor="let type of types"
            [ngValue]="type"
          >
            {{ type }}
          </option>
        </select>
      </div>
    </div>

    <div class="bg-white rounded-xl flex flex-wrap p-2 items-center shadow-lg shadow-dark-blue">
      <span
        *ngFor="let topic of filter_topics"
        class="m-2 px-2 py-1 flex items-center cursor-default bg-gray w-fit rounded-full text-sm font-semibold text-gray-600"
      >
        {{ topic }}
        <button class="cursor-pointer" (click)="removeTopic(topic)">
          <img src="/assets/close1.png" class="ml-1 w-4 object-contain" />
        </button>
      </span>

      <select
        *ngIf="toggleSelect"
        class="px-2 py-1 cursor-pointer outline-none hover:bg-light-gray rounded-xl"
        [(ngModel)]="_topic"
        (ngModelChange)="addTopic($event)"
      >
        <option
          *ngFor="let topic of topics"
          [ngValue]="topic"
          class="rounded-xl bg-gray outline-none w-fit"
        >
          {{ topic }}
        </option>
      </select>
      <button (click)="toggleSel()" class="ml-1">
        <img src="/assets/plus.png" class="cursor-pointer object-contain" />
      </button>
      <div *ngIf="admin == true" class="admin-add-topics ml-auto">
        <!-- ONLY ENABLE FOR ADMIN -->
        <button class="cursor-pointer" (click)="adminToggle()">
          <img src="/assets/settings.png" alt="" />
        </button>
      </div>
    </div>

    <div
      *ngFor="
        let idea of ideas | sortTopic: filter_topics | sortByString: value: name
      "
    >
      <div
        class="card w-full h-96 bg-white rounded-xl shadow-md flex space-x-2"
      >
        <app-idea-card [idea]="idea" [editMode]="editMode"></app-idea-card>
      </div>
    </div>
  </div>
</body>
